

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="rn" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="rn" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installation Guide &mdash; F-sek  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Git workflow aka git gud" href="../git_workflow.html" />
    <link rel="prev" title="Web" href="web.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> F-sek
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Documentation:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../app/app.html">App</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="web.html">Web</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Installation Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installing-ruby">Installing Ruby</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-postgres">Installing Postgres</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-redis">Installing Redis</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-up-git">Setting up Git</a></li>
<li class="toctree-l3"><a class="reference internal" href="#installing-this-environment">Installing this environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-server">Running the server</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../git_workflow.html">Git workflow aka git gud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spiderman_duties.html">How to be a spodermon</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">F-sek</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="web.html">Web</a> &raquo;</li>
        
      <li>Installation Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/web/installation_guide.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installation-guide">
<h1>Installation Guide<a class="headerlink" href="#installation-guide" title="Permalink to this headline">¶</a></h1>
<p>The environment requires Ruby 2.5.0, a recent version of Postgres and Redis.</p>
<div class="section" id="installing-ruby">
<h2>Installing Ruby<a class="headerlink" href="#installing-ruby" title="Permalink to this headline">¶</a></h2>
<p>When installing Ruby it's easiest to first install rbenv and ruby-build. Start by checking that you have the required dependencies for your system.</p>
<p>Then run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/rbenv/rbenv.git ~/.rbenv
git clone https://github.com/rbenv/ruby-build.git ~/.rbenv/plugins/ruby-build
echo &#39;export PATH=&quot;$HOME/.rbenv/bin:$PATH&quot;&#39; &gt;&gt; ~/.bashrc
echo &#39;export PATH=&quot;$HOME/.rbenv/plugins/ruby-build/bin:$PATH&quot;&#39; &gt;&gt; ~/.bashrc
echo &#39;eval &quot;$(rbenv init -)&quot;&#39; &gt;&gt; ~/.bashrc
exec $SHELL
</pre></div>
</div>
<p>and then install Ruby:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rbenv</span> <span class="n">install</span> <span class="mf">2.5</span><span class="o">.</span><span class="mi">0</span>
<span class="n">rbenv</span> <span class="k">global</span> <span class="mf">2.5</span><span class="o">.</span><span class="mi">0</span>
</pre></div>
</div>
<p>After this, you should restart your terminal emulator.</p>
</div>
<div class="section" id="installing-postgres">
<h2>Installing Postgres<a class="headerlink" href="#installing-postgres" title="Permalink to this headline">¶</a></h2>
<p>To install Postgres on a recent version of Ubuntu, it should be enough to run:</p>
<p>sudo apt-get install postgresql postgresql-contrib libpq-dev</p>
<p>If you are using the LTS (Long Term Support) version, you need to run the following commands instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">sh</span> <span class="o">-</span><span class="n">c</span> <span class="s2">&quot;echo &#39;deb http://apt.postgresql.org/pub/repos/apt/ xenial-pgdg main&#39; &gt; /etc/apt/sources.list.d/pgdg.list&quot;</span>
<span class="n">wget</span> <span class="o">--</span><span class="n">quiet</span> <span class="o">-</span><span class="n">O</span> <span class="o">-</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">apt</span><span class="o">.</span><span class="n">postgresql</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">pub</span><span class="o">/</span><span class="n">repos</span><span class="o">/</span><span class="n">apt</span><span class="o">/</span><span class="n">ACCC4CF8</span><span class="o">.</span><span class="n">asc</span> <span class="o">|</span> <span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">key</span> <span class="n">add</span> <span class="o">-</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">update</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">postgresql</span><span class="o">-</span><span class="n">common</span>
<span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">postgresql</span><span class="o">-</span><span class="mf">9.5</span> <span class="n">libpq</span><span class="o">-</span><span class="n">dev</span>
</pre></div>
</div>
<p>On most other distributions, it's enough to install the postgresql or postgres package. For example, on Arch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pacman</span> <span class="o">-</span><span class="n">S</span> <span class="n">postgresql</span>
</pre></div>
</div>
<p>Now, to start postgres:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">start</span> <span class="n">postgresql</span>
</pre></div>
</div>
<p>We probably want to make sure postgres starts on startup, like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">systemctl</span> <span class="n">enable</span> <span class="n">postgesql</span>
</pre></div>
</div>
<p>To use Postgres with Rails you need to create a user:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">postgres</span> <span class="n">createuser</span> <span class="o">&lt;</span><span class="n">username</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">sP</span>
</pre></div>
</div>
<p>Postgres will then ask you to set a password for the new user.</p>
</div>
<div class="section" id="installing-redis">
<h2>Installing Redis<a class="headerlink" href="#installing-redis" title="Permalink to this headline">¶</a></h2>
<p>Redis can usually be installed with your distribution´s package manager. It's often called either redis-server or just redis. On Ubuntu just run this command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">redis</span><span class="o">-</span><span class="n">server</span>
</pre></div>
</div>
<p>On Arch, you just run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">pacman</span> <span class="o">-</span><span class="n">S</span> <span class="n">redis</span>
</pre></div>
</div>
</div>
<div class="section" id="setting-up-git">
<h2>Setting up Git<a class="headerlink" href="#setting-up-git" title="Permalink to this headline">¶</a></h2>
<p>You need to configure Git if you have not used it before. Run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">user</span><span class="o">.</span><span class="n">name</span> <span class="s2">&quot;Firstname Lastname&quot;</span>
<span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">user</span><span class="o">.</span><span class="n">email</span> <span class="n">name</span><span class="nd">@domain</span><span class="o">.</span><span class="n">com</span>
</pre></div>
</div>
<p>using the same email as on GitHub.</p>
<p>You are recommended to run the following command to simplify pushes to git:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">config</span> <span class="o">--</span><span class="k">global</span> <span class="n">push</span><span class="o">.</span><span class="n">default</span> <span class="n">current</span>
</pre></div>
</div>
</div>
<div class="section" id="installing-this-environment">
<h2>Installing this environment<a class="headerlink" href="#installing-this-environment" title="Permalink to this headline">¶</a></h2>
<p>To install the environment you should first clone the repo. Head to your preferred directory and clone. Afterwards you need to install Rails and all the gems required. All these things can be achieved by running the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">&lt;</span><span class="n">preferred</span> <span class="n">folder</span><span class="o">&gt;</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">fsek</span><span class="o">/</span><span class="n">web</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">web</span>

<span class="n">gem</span> <span class="n">install</span> <span class="n">bundle</span>
<span class="n">bundle</span> <span class="n">install</span>
</pre></div>
</div>
<p>To run Rails and store data you need to configure the database connection. In the environment root folder there is a file called .env-sample. Copy this file and rename it to .env:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cp</span> <span class="o">.</span><span class="n">env</span><span class="o">-</span><span class="n">sample</span> <span class="o">.</span><span class="n">env</span>
</pre></div>
</div>
<p>Now open the file in your favourite text editor and enter the username and password you chose when creating a Postgres user. Enter the same username and password for both the test and dev environment.</p>
<p>Before you can continue, Rails wants you to generate a &quot;Secret key base&quot;. Run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s2">&quot;SECRET_KEY_BASE=$(rails secret)&quot;</span> <span class="o">&gt;&gt;</span> <span class="o">.</span><span class="n">env</span>
</pre></div>
</div>
<p>You are now ready to load the database structure into Postgres, and populate it with some example data. Run the following commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rails</span> <span class="n">db</span><span class="p">:</span><span class="n">create</span> <span class="o">&amp;&amp;</span> <span class="n">rails</span> <span class="n">db</span><span class="p">:</span><span class="n">migrate</span> <span class="o">&amp;&amp;</span> <span class="n">rails</span> <span class="n">db</span><span class="p">:</span><span class="n">seed</span> <span class="o">&amp;&amp;</span> <span class="n">rails</span> <span class="n">db</span><span class="p">:</span><span class="n">populate_test</span>
</pre></div>
</div>
</div>
<div class="section" id="running-the-server">
<h2>Running the server<a class="headerlink" href="#running-the-server" title="Permalink to this headline">¶</a></h2>
<p>To run the server and all the required services simply run the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">foreman</span> <span class="n">s</span>
</pre></div>
</div>
<p>After a few seconds, you should be able to access the server at <a class="reference external" href="http://localhost:3000">http://localhost:3000</a>.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../git_workflow.html" class="btn btn-neutral float-right" title="Git workflow aka git gud" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="web.html" class="btn btn-neutral" title="Web" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, F-sektionen inom TLTH

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>